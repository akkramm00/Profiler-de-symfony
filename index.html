<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Profiler en Symfony</title>
  <link href="bootstrap.min.css" rel="stylesheet" type="text/css" />
  <link href="style.css" rel="stylesheet" type="text/css" />
</head>

<body>
  <header class="container-fluid">
    <div class="row">
      <div class="col navbar bg-dark textlight w-100 py-5 d-flex justify-content-around">
        <a href="index.html">Installation</a>
        <a href="Onglets.html">Onglets</a>
        <a href="DataCollector.html">DataCollector</a>
        <a href=""></a>
      </div>
    </div>
  </header>
  
  <main class="container my-3">
    <div class="row">
      <div class="col">
        <h1>Le Profiler en Symfony</h1>
        <p>
          Le profiler ainsi que d'autres outils de débogage ne sontp as installés par défaut dans le framework de
          Symfony.Il va donc nous falloir l'installer.<br>
          Avant de le faire , il faut toutefois bien comprendre que c'est un outils de développement, voire de test, et
          qu'il ne faiut surtout pas l'utiliser en mode production, car des outils de débogage tel que Profiler, non
          seulement jouent sur les pérformances, mais surtout peut ouvrir des failles de sécurité.<br>
          Par défaut c'est la variéble "APP_ENV" se trouvant dans le fichier ".ev" qui détérmine le mode de
          développement.<br>
          => (ENV = dev / test / prod );
        </p>
        <h2>Installation</h2>
        <p>
          Si vous souhaitez ajouter uniquement le pack Profiler, vous pouvez l'installer avec cette lignede commande
          dans le projet que vous venez de créer: <br><br>

          => $ composer require --dev symfony/profiler-pack
          <br><br>
          NOus vous conseillons de plutot installer "debug" qui offre d'autres outils de débogage méme si nous ne les
          détaillerons pas tous dans ce cours ainsi que des fonctionnalités plus poussées au profiler qui'il installera
          de toute façon. <br><br>

          => composer require --debug --dev
          <br>
          Si vous venez d'effectuer cette ligne de commande , vous ^pouivez noter tous les packs qui ont été installés et configurés, à savoir: 
          <br><br>
          * twig/twig <br>
          * symfony/translation-contracts<br>
          * symfony/twig-bridge<br>
          * symfony/twig-bundle<br>
          * symfony/web-profilrer-bundle<br>
          * symfony/stpwatch<br>
          * symfony/profiler-pack<br>
          * monolog/monolog<br>
          * monolog/monolog-bridge<br>
          * symfony/debug-bundle<br>
          * symfony/debug-pack<br>
        </p>
        <h2>ToolBar après installation</h2>
        <p>
        La Toolbar donnes des informations précieuses que nous pouvons visualiser d'un seul coup d'oeil, en "hover" ou survol vous aurz quelques informations de plus mais tout cela n'est qu'un moyen visuel et rapide d'avoir accès aux informations les plus importantes.<br>
        Cet outil est là pour vous aidez et vous apporter des solutions, alors avnt meme de commencer à découvrir les icones de cette Toolbar, autre nom que l'on donne au Profiler, nous allons commencer à déboguer ou du moins comprendre ce qu'il se passe. Pour cela cliquez sur le 404 ou n'importe ou sur labarre afin que le profiler ouvre la page de débogage.     
        </p>  
        <h2>Message d'exceptions</h2>
        <p>
          Comme toujours dans la programmation et le  monde de l'informatique, il est nécéssaire de connaitre un minimum d'anglais. Le message est clair, leprofiler n'a pas trouvé de route pour get http:// 127.0.0.1.8000/. C'est normal, nous n'en avons pa s encore créé  et symfony, par intermédiaire du profiler , nous dit que ce n'est pas normal, parce que pour toute adresse URL il faut une route. Si vous cliquez sur logs ou que vous regardez votre console, vous trouverez un message similaire. <br>
          Puisque nous sommes sur symfony Profiler, découvrons cette page avec les mines d'informations qui nous sont fournies.
        </p>
        <br><br>
        <h2> Barre de recherche </h2>
       <p>
        Tout en haut  à droite nous avons un outil de recherche qui nous emmène directement sur la documentation officielle de symfony. Essayez par exemple avec le mot "profiler" . Vous pouvez choisir parmis les différentes propositions de recherche la réfgérence qui vous patait la plus opportuniste La première proposition est intéréssante. Ensuite, sur votre droite, choisissez la version de symfony que vous utilisez .
       </p> 

        <h2>URL</h2>
        <p>
          Maintenant, juste en dessous , en rouge dans notre cas parce que nous sommes en HTTP Status 404, bien sur nous serions en vert si nous étions en HTYP Status 200, vous trouverez des informations sur l'URL et la connaixion. Rien de bien compliqué, vous devriez pouvoir comprendre ces informations. Notez tout de meme le token qui est généré par le profiler. Grace à celui-ci, vous pourrez par exemple accéder aux données du profiler dans votre programme, par exemple avec ce code ci-dessous :
          <br><br>

          => $token = $response->headers->get('X-debug-Token');<br>
          =>profile = $container->get('profiler')è>loadProfile($token);
        </p>
      </div>
    </div>
  </main>

  <script src="script.js"></script>
  <script src="https://replit.com/public/js/replit-badge-v2.js" theme="dark" position="bottom-right"></script>
</body>

</html>